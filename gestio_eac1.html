<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz de Gestion U1</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: #f4f4f4;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }

  h1 {
    text-align: center;
    margin: 20px 0;
  }

  .quiz-container {
    width: 90%;
    max-width: 600px;
    margin-bottom: 40px;
  }

  .question {
    background: #fff;
    padding: 15px;
    margin: 10px 0;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }

  .options button {
    display: block;
    margin: 5px 0;
    padding: 12px;
    width: 100%;
    border-radius: 5px;
    border: 1px solid #ccc;
    cursor: pointer;
    background: #eee;
    transition: background 0.3s;
    font-size: 16px;
  }

  .options button:hover { background: #ddd; }

  .correct { background-color: #c8e6c9; border-color: #388e3c; color: #2e7d32; }
  .wrong { background-color: #ffcdd2; border-color: #d32f2f; color: #c62828; }

  .result {
    font-weight: bold;
    font-size: 1.2em;
    margin: 10px 0;
  }

  #nextBtn {
    margin-top: 10px;
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    background: #2196F3;
    color: white;
    font-size: 1em;
    cursor: pointer;
  }

  #nextBtn:hover { background: #1976D2; }
</style>
</head>
<body>

<h1>Quiz de Gestio U1</h1>

<div class="quiz-container" id="quiz-container"></div>
<div class="result" id="result">Puntaje: 0</div>
<button id="nextBtn" style="display:none;">Siguiente</button>

<script>
function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// Tus questions aqu铆
const allQuestions = [
{ question: "Dins de les funcions dun hospital, no nom茅s es troba assistencial, sin贸 que tamb茅 ha de fer funcions de recerca i doc猫ncia.", options: ["V", "F"], answer: "V" },
{ question: "En lassignaci贸 de llit als i a les pacients durg猫ncies lingr茅s es far efectiu immediatament, una vegada la planta receptora confirmi que el pacient pot ser traslladat.", options: ["V", "F"], answer: "V" },
{ question: "Les persones que han estat a la unitat durg猫ncies i shan marxat cap a casa derivades a un seguiment del CAP no han generat un ingr茅s hospitalari.", options: ["V", "F"], answer: "V" },
{ question: "La disponibilitat de llits per unitats dhospitalitzaci贸 utilitzant el programa Garesan-IOC la trobem en derivacions. Pregunta 4Resposta a. F b.", options: ["V", "F"], answer: "F" },
{ question: "Els nivells de prioritzaci贸 dassignaci贸 de llits per part del servei dadmissions s贸n 4, on el P1 茅s el que durg猫ncies han dingressar abans de les 6 hores.", options: ["V", "F"], answer: "V" },
{ question: "Si un pacient ingressa per primera vegada en un centre sanitari no cal obrir-li una HC ni atorgar-li un n煤mero dHC.", options: ["V", "F"], answer: "F" },
{ question: "Una pacient que estava en el servei de CCEE i 茅s ingressada perqu猫 sha inestabilitat genera un ingr茅s no urgent.", options: ["V", "F"], answer: "F" },
{ question: "Dades farmacol貌giques, com a composici贸 o principi actiu dun medicament, es troben en el catleg de productes farmac猫utics.", options: ["V", "F"], answer: "V" },
{ question: "No es consideren llits UCI les rees de reanimaci贸 postoperat貌ria, ja que tenen la consideraci贸 de llits dobservaci贸.", options: ["V", "F"], answer: "V" },
{ question: "Una persona ingressada per fer-li un procediment de radioterpia es considera un ingr茅s no urgent.", options: ["V", "F"], answer: "V" },
{ question: "Un pacient, que en el moment de lingr茅s, li assignen un llit que pertany a la seva unitat dhospitalitzaci贸 passar a ser un pacient ect貌pic.", options: ["V", "F"], answer: "F" },
{ question: "s desitjable que es coneguin els ingressos quir煤rgics amb un m铆nim dantelaci贸 de 24 hores.", options: ["V", "F"], answer: "V" },
{ question: "Els trasllats interhospitalaris aguts o despecialitats de refer猫ncia entren dins del nivell de prioritat 2.", options: ["V", "F"], answer: "V" },
{ question: "El tipus de gesti贸 que es fa des del Servei dadmissions est basat en el sistema de prioritzaci贸 centralitzat a temps real.", options: ["V", "F"], answer: "V" },
{ question: "En els ingressos quir煤rgics les reserves de llit no seran nominals i podr ser ingressat en qualsevol llit que hi hagi disponible.", options: ["V", "F"], answer: "F" },
{ question: "El CatSalut actualitza les dades de les llistes despera setmanalment.", options: ["V", "F"], answer: "V" },
{ question: "Una persona que passa a la unitat de reanimaci贸, el seu llit a la seva unitat dhospitalitzaci贸 li quedar reservat sempre que no superi les 48 hores.", options: ["V", "F"], answer: "V" },
{ question: "Les persones s贸n un element central i actiu del nostre sistema de salut.", options: ["V", "F"], answer: "V" },
{ question: "El servei encarregat de la gesti贸 de llits 茅s el servei dadmissions.", options: ["V", "F"], answer: "V" },
{ question: "La CMA (cirurgia major ambulat貌ria) es realitza en hospitals lleugers.", options: ["V", "F"], answer: "V" }
];

//  Seleccionamos 20 aleatorias (o todas si hay menos)
let quizData = shuffle(allQuestions).slice(0, 20);

let currentQuestion = 0;
let score = 0;
const container = document.getElementById("quiz-container");
const resultDiv = document.getElementById("result");
const nextBtn = document.getElementById("nextBtn");


function showQuestion() {
  container.innerHTML = "";
  nextBtn.style.display = "none";

  if(currentQuestion >= quizData.length) {
    container.innerHTML = `<div class="question"><strong>隆Quiz terminado!</strong><br>Tu puntaje final es ${score} de ${quizData.length}</div>`;
    return;
  }

  const q = quizData[currentQuestion];
  const div = document.createElement("div");
  div.className = "question";
  div.innerHTML = `<strong>${currentQuestion+1}. ${q.question}</strong>`;

  const optionsDiv = document.createElement("div");
  optionsDiv.className = "options";

  const filteredOptions = q.options.filter(opt => opt.trim() !== "");
  shuffle(filteredOptions);

  filteredOptions.forEach(option => {
    const btn = document.createElement("button");
    btn.textContent = option;
    btn.dataset.correct = option === q.answer ? "true" : "false";

    btn.onclick = () => {
      const allBtns = optionsDiv.querySelectorAll("button");
      allBtns.forEach(b => b.disabled = true);

      if(btn.dataset.correct === "true") {
        btn.classList.add("correct");
        score++;
      } else {
        btn.classList.add("wrong");
        allBtns.forEach(b => {
          if(b.dataset.correct === "true") b.classList.add("correct");
        });
      }

      resultDiv.textContent = `Puntaje: ${score}/${quizData.length}`;
      nextBtn.style.display = "block";
    };

    optionsDiv.appendChild(btn);
  });

  div.appendChild(optionsDiv);
  container.appendChild(div);
}

nextBtn.onclick = () => {
  currentQuestion++;
  showQuestion();
};

showQuestion();
</script>

</body>
</html>
